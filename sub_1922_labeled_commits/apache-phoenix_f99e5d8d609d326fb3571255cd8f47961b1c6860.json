{"application": "apache-phoenix", "csha": "f99e5d8d609d326fb3571255cd8f47961b1c6860", "files": [{"MetaDataEndpointImpl_cluster": {"actions": [{"root": "INS ImportDeclaration to CompilationUnit at 45", "operations": ["INS QualifiedName: org.apache.commons.logging.Log to ImportDeclaration at 0", "INS ImportDeclaration to CompilationUnit at 45"]}, {"root": "INS ImportDeclaration to CompilationUnit at 46", "operations": ["INS QualifiedName: org.apache.commons.logging.LogFactory to ImportDeclaration at 0", "INS ImportDeclaration to CompilationUnit at 46"]}, {"root": "INS ImportDeclaration to CompilationUnit at 89", "operations": ["INS QualifiedName: org.apache.phoenix.metrics.Metrics to ImportDeclaration at 0", "INS ImportDeclaration to CompilationUnit at 89"]}, {"root": "INS ImportDeclaration to CompilationUnit at 110", "operations": ["INS QualifiedName: org.apache.phoenix.trace.util.Tracing to ImportDeclaration at 0", "INS ImportDeclaration to CompilationUnit at 110"]}, {"root": "INS FieldDeclaration to TypeDeclaration: class at 64", "operations": ["INS Modifier: static to FieldDeclaration at 1", "INS VariableDeclarationFragment to FieldDeclaration at 4", "INS Modifier: private to FieldDeclaration at 0", "INS FieldDeclaration to TypeDeclaration: class at 64", "INS SimpleName: MetaDataEndpointImpl to SimpleType: MetaDataEndpointImpl at 0", "INS MethodInvocation to VariableDeclarationFragment at 1", "INS SimpleName: LogFactory to MethodInvocation at 0", "INS SimpleName: getLog to MethodInvocation at 1", "INS SimpleType: MetaDataEndpointImpl to TypeLiteral at 0", "INS SimpleName: LOG to VariableDeclarationFragment at 0", "INS SimpleType: Log to FieldDeclaration at 3", "INS TypeLiteral to MethodInvocation at 2", "INS Modifier: final to FieldDeclaration at 2", "INS SimpleName: Log to SimpleType: Log at 0"]}, {"root": "INS ExpressionStatement to Block at 1", "operations": ["INS SimpleName: info to MethodInvocation at 1", "INS MethodInvocation to ExpressionStatement at 0", "INS StringLiteral: \"Starting Tracing-Metrics Systems\" to MethodInvocation at 2", "INS SimpleName: LOG to MethodInvocation at 0", "INS ExpressionStatement to Block at 1"]}, {"root": "INS ExpressionStatement to Block at 2", "operations": ["INS SimpleName: Tracing to MethodInvocation at 0", "INS MethodInvocation to ExpressionStatement at 0", "INS SimpleName: addTraceMetricsSource to MethodInvocation at 1", "INS ExpressionStatement to Block at 2"]}, {"root": "INS ExpressionStatement to Block at 3", "operations": ["INS ExpressionStatement to Block at 3", "INS MethodInvocation to ExpressionStatement at 0", "INS SimpleName: Metrics to MethodInvocation at 0", "INS SimpleName: ensureConfigured to MethodInvocation at 1"]}]}}, {"MetaDataEndpointImpl_diff": {"operations": ["Insert ImportDeclaration(91) into CompilationUnit(7985) at 45", "Insert ImportDeclaration(93) into CompilationUnit(7985) at 46", "Insert ImportDeclaration(179) into CompilationUnit(7985) at 89", "Insert ImportDeclaration(221) into CompilationUnit(7985) at 110", "Insert QualifiedName: org.apache.commons.logging.Log(90) into ImportDeclaration(91) at 0", "Insert QualifiedName: org.apache.commons.logging.LogFactory(92) into ImportDeclaration(93) at 0", "Insert QualifiedName: org.apache.phoenix.metrics.Metrics(178) into ImportDeclaration(179) at 0", "Insert QualifiedName: org.apache.phoenix.trace.util.Tracing(220) into ImportDeclaration(221) at 0", "Insert FieldDeclaration(1104) into TypeDeclaration: class(7984) at 64", "Insert Modifier: private(1091) into FieldDeclaration(1104) at 0", "Insert Modifier: static(1092) into FieldDeclaration(1104) at 1", "Insert Modifier: final(1093) into FieldDeclaration(1104) at 2", "Insert SimpleType: Log(1095) into FieldDeclaration(1104) at 3", "Insert VariableDeclarationFragment(1103) into FieldDeclaration(1104) at 4", "Insert SimpleName: Log(1094) into SimpleType: Log(1095) at 0", "Insert SimpleName: LOG(1096) into VariableDeclarationFragment(1103) at 0", "Insert MethodInvocation(1102) into VariableDeclarationFragment(1103) at 1", "Insert ExpressionStatement(1160) into Block(1169) at 1", "Insert ExpressionStatement(1164) into Block(1169) at 2", "Insert ExpressionStatement(1168) into Block(1169) at 3", "Insert SimpleName: LogFactory(1097) into MethodInvocation(1102) at 0", "Insert SimpleName: getLog(1098) into MethodInvocation(1102) at 1", "Insert TypeLiteral(1101) into MethodInvocation(1102) at 2", "Insert MethodInvocation(1159) into ExpressionStatement(1160) at 0", "Insert MethodInvocation(1163) into ExpressionStatement(1164) at 0", "Insert MethodInvocation(1167) into ExpressionStatement(1168) at 0", "Insert SimpleType: MetaDataEndpointImpl(1100) into TypeLiteral(1101) at 0", "Insert SimpleName: LOG(1156) into MethodInvocation(1159) at 0", "Insert SimpleName: info(1157) into MethodInvocation(1159) at 1", "Insert StringLiteral: \"Starting Tracing-Metrics Systems\"(1158) into MethodInvocation(1159) at 2", "Insert SimpleName: Tracing(1161) into MethodInvocation(1163) at 0", "Insert SimpleName: addTraceMetricsSource(1162) into MethodInvocation(1163) at 1", "Insert SimpleName: Metrics(1165) into MethodInvocation(1167) at 0", "Insert SimpleName: ensureConfigured(1166) into MethodInvocation(1167) at 1", "Insert SimpleName: MetaDataEndpointImpl(1099) into SimpleType: MetaDataEndpointImpl(1100) at 0"]}}, {"PhoenixConnection_cluster": {"actions": [{"root": "INS Block to Initializer at 1", "operations": ["INS Block to Initializer at 1"]}, {"root": "MOVE from Block", "operations": ["MOV ExpressionStatement to Block at 0"]}, {"root": "INS MethodInvocation to ExpressionStatement at 0", "operations": ["INS MethodInvocation to ExpressionStatement at 0"]}, {"root": "UPDATE from TracingCompat to Tracing", "operations": ["UPD SimpleName: TracingCompat from TracingCompat to Tracing"]}, {"root": "MOVE from MethodInvocation", "operations": ["MOV SimpleName: newTraceMetricSource to MethodInvocation at 1", "MOV SimpleName: TracingCompat to MethodInvocation at 0"]}, {"root": "UPDATE from newTraceMetricSource to addTraceMetricsSource", "operations": ["UPD SimpleName: newTraceMetricSource from newTraceMetricSource to addTraceMetricsSource"]}, {"root": "DEL MethodInvocation", "operations": ["DEL SimpleName: Trace", "DEL SimpleName: addReceiver", "DEL MethodInvocation", "DEL MethodInvocation"]}, {"root": "DEL Block", "operations": ["DEL SimpleName: e", "DEL SimpleName: RuntimeException", "DEL Block", "DEL ExpressionStatement", "DEL TryStatement", "DEL SimpleName: LOG", "DEL SimpleType: RuntimeException", "DEL Block", "DEL StringLiteral: \"TraceMetricsSink found on the classpath\"", "DEL CatchClause", "DEL SimpleName: warn", "DEL SimpleName: e", "DEL InfixExpression: +", "DEL SingleVariableDeclaration", "DEL StringLiteral: \"Tracing will outputs will not be written to any metrics sink! No \"", "DEL Block", "DEL MethodInvocation"]}]}}, {"PhoenixConnection_diff": {"operations": ["Insert Block(305) into Initializer(306) at 1", "Move ExpressionStatement(307) into Block(305) at 0", "Insert MethodInvocation(303) into ExpressionStatement(304) at 0", "Update SimpleName: TracingCompat(303) to Tracing", "Move SimpleName: TracingCompat(303) into MethodInvocation(303) at 0", "Update SimpleName: newTraceMetricSource(304) to addTraceMetricsSource", "Move SimpleName: newTraceMetricSource(304) into MethodInvocation(303) at 1", "Delete SimpleName: Trace(301)", "Delete SimpleName: addReceiver(302)", "Delete MethodInvocation(305)", "Delete MethodInvocation(306)", "Delete Block(308)", "Delete SimpleName: RuntimeException(309)", "Delete SimpleType: RuntimeException(310)", "Delete SimpleName: e(311)", "Delete SingleVariableDeclaration(312)", "Delete SimpleName: LOG(313)", "Delete SimpleName: warn(314)", "Delete StringLiteral: \"Tracing will outputs will not be written to any metrics sink! No \"(315)", "Delete StringLiteral: \"TraceMetricsSink found on the classpath\"(316)", "Delete InfixExpression: +(317)", "Delete SimpleName: e(318)", "Delete MethodInvocation(319)", "Delete ExpressionStatement(320)", "Delete Block(321)", "Delete CatchClause(322)", "Delete TryStatement(323)", "Delete Block(324)"]}}, {"PhoenixTableMetricsWriter_cluster": {"actions": [{"root": "INS ImportDeclaration to CompilationUnit at 15", "operations": ["INS ImportDeclaration to CompilationUnit at 15", "INS QualifiedName: java.util.Properties to ImportDeclaration at 0"]}, {"root": "INS ImportDeclaration to CompilationUnit at 27", "operations": ["INS ImportDeclaration to CompilationUnit at 27", "INS QualifiedName: org.apache.phoenix.trace.util.Tracing to ImportDeclaration at 0"]}, {"root": "INS MethodDeclaration to TypeDeclaration: class at 14", "operations": ["INS SimpleName: initialize to MethodDeclaration at 3", "INS SimpleName: info to MethodInvocation at 1", "INS SimpleName: LOG to MethodInvocation at 0", "INS MethodDeclaration to TypeDeclaration: class at 14", "INS MethodInvocation to ExpressionStatement at 0", "INS ExpressionStatement to Block at 0", "INS Block to MethodDeclaration at 4", "INS PrimitiveType: void to MethodDeclaration at 2", "INS Modifier: public to MethodDeclaration at 1", "INS StringLiteral: \"Phoenix tracing writer started\" to MethodInvocation at 2"]}, {"root": "MOVE from SynchronizedStatement", "operations": ["MOV Block to SynchronizedStatement at 1", "MOV MarkerAnnotation to MethodDeclaration at 0"]}, {"root": "INS Javadoc to MethodDeclaration at 0", "operations": ["INS TagElement to Javadoc at 0", "INS TextElement: Initialize <tt>this</tt> only when we need it to TagElement at 0", "INS Javadoc to MethodDeclaration at 0"]}, {"root": "UPDATE from public to private", "operations": ["UPD Modifier: public from public to private"]}, {"root": "UPDATE from initialize to lazyInitialize", "operations": ["UPD SimpleName: initialize from initialize to lazyInitialize"]}, {"root": "INS Block to MethodDeclaration at 4", "operations": ["INS SynchronizedStatement to Block at 0", "INS Block to MethodDeclaration at 4", "INS ThisExpression to SynchronizedStatement at 0"]}, {"root": "INS ExpressionStatement to Block at 1", "operations": ["INS SimpleName: lazyInitialize to MethodInvocation at 0", "INS ExpressionStatement to Block at 1", "INS MethodInvocation to ExpressionStatement at 0"]}, {"root": "INS IfStatement to Block at 0", "operations": ["INS InfixExpression: != to IfStatement at 0", "INS FieldAccess to InfixExpression: != at 0", "INS ReturnStatement to Block at 0", "INS ThisExpression to FieldAccess at 0", "INS Block to IfStatement at 1", "INS IfStatement to Block at 0", "INS NullLiteral to InfixExpression: != at 1", "INS SimpleName: conn to FieldAccess at 1"]}, {"root": "INS VariableDeclarationStatement to Block at 0", "operations": ["INS SimpleName: props to VariableDeclarationFragment at 0", "INS ClassInstanceCreation to VariableDeclarationFragment at 1", "INS SimpleType: Properties to VariableDeclarationStatement at 0", "INS VariableDeclarationStatement to Block at 0", "INS SimpleName: Properties to SimpleType: Properties at 0", "INS VariableDeclarationFragment to VariableDeclarationStatement at 1", "INS SimpleType: Properties to ClassInstanceCreation at 0", "INS SimpleName: Properties to SimpleType: Properties at 0"]}, {"root": "INS ExpressionStatement to Block at 1", "operations": ["INS QualifiedName: QueryServices.TRACING_FREQ_ATTRIB to MethodInvocation at 2", "INS SimpleName: getKey to MethodInvocation at 1", "INS MethodInvocation to ExpressionStatement at 0", "INS SimpleName: setProperty to MethodInvocation at 1", "INS ExpressionStatement to Block at 1", "INS MethodInvocation to MethodInvocation at 3", "INS SimpleName: props to MethodInvocation at 0", "INS QualifiedName: Tracing.Frequency.NEVER to MethodInvocation at 0"]}, {"root": "INS SimpleName: props to MethodInvocation at 2", "operations": ["INS SimpleName: props to MethodInvocation at 2"]}]}}, {"PhoenixTableMetricsWriter_diff": {"operations": ["Insert ImportDeclaration(46) into CompilationUnit(934) at 15", "Insert ImportDeclaration(70) into CompilationUnit(934) at 27", "Insert QualifiedName: java.util.Properties(45) into ImportDeclaration(46) at 0", "Insert QualifiedName: org.apache.phoenix.trace.util.Tracing(69) into ImportDeclaration(70) at 0", "Insert MethodDeclaration(203) into TypeDeclaration: class(933) at 14", "Move MarkerAnnotation(189) into MethodDeclaration(203) at 0", "Insert Modifier: public(194) into MethodDeclaration(203) at 1", "Insert PrimitiveType: void(195) into MethodDeclaration(203) at 2", "Insert SimpleName: initialize(196) into MethodDeclaration(203) at 3", "Insert Block(202) into MethodDeclaration(203) at 4", "Insert Javadoc(206) into MethodDeclaration(289) at 0", "Update Modifier: public(190) to private", "Update SimpleName: initialize(192) to lazyInitialize", "Insert Block(288) into MethodDeclaration(289) at 4", "Insert ExpressionStatement(201) into Block(202) at 0", "Insert TagElement(205) into Javadoc(206) at 0", "Insert SynchronizedStatement(287) into Block(288) at 0", "Insert ExpressionStatement(489) into Block(817) at 1", "Insert MethodInvocation(200) into ExpressionStatement(201) at 0", "Insert TextElement: Initialize <tt>this</tt> only when we need it(204) into TagElement(205) at 0", "Insert ThisExpression(210) into SynchronizedStatement(287) at 0", "Move Block(243) into SynchronizedStatement(287) at 1", "Insert MethodInvocation(488) into ExpressionStatement(489) at 0", "Insert SimpleName: LOG(197) into MethodInvocation(200) at 0", "Insert SimpleName: info(198) into MethodInvocation(200) at 1", "Insert StringLiteral: \"Phoenix tracing writer started\"(199) into MethodInvocation(200) at 2", "Insert IfStatement(218) into Block(286) at 0", "Insert SimpleName: lazyInitialize(487) into MethodInvocation(488) at 0", "Insert InfixExpression: !=(215) into IfStatement(218) at 0", "Insert Block(217) into IfStatement(218) at 1", "Insert FieldAccess(213) into InfixExpression: !=(215) at 0", "Insert NullLiteral(214) into InfixExpression: !=(215) at 1", "Insert ReturnStatement(216) into Block(217) at 0", "Insert VariableDeclarationStatement(226) into Block(273) at 0", "Insert ExpressionStatement(234) into Block(273) at 1", "Insert ThisExpression(211) into FieldAccess(213) at 0", "Insert SimpleName: conn(212) into FieldAccess(213) at 1", "Insert SimpleType: Properties(220) into VariableDeclarationStatement(226) at 0", "Insert VariableDeclarationFragment(225) into VariableDeclarationStatement(226) at 1", "Insert MethodInvocation(233) into ExpressionStatement(234) at 0", "Insert SimpleName: Properties(219) into SimpleType: Properties(220) at 0", "Insert SimpleName: props(221) into VariableDeclarationFragment(225) at 0", "Insert ClassInstanceCreation(224) into VariableDeclarationFragment(225) at 1", "Insert SimpleName: props(227) into MethodInvocation(233) at 0", "Insert SimpleName: setProperty(228) into MethodInvocation(233) at 1", "Insert QualifiedName: QueryServices.TRACING_FREQ_ATTRIB(229) into MethodInvocation(233) at 2", "Insert MethodInvocation(232) into MethodInvocation(233) at 3", "Insert SimpleType: Properties(223) into ClassInstanceCreation(224) at 0", "Insert QualifiedName: Tracing.Frequency.NEVER(230) into MethodInvocation(232) at 0", "Insert SimpleName: getKey(231) into MethodInvocation(232) at 1", "Insert SimpleName: props(248) into MethodInvocation(250) at 2", "Insert SimpleName: Properties(222) into SimpleType: Properties(223) at 0"]}}, {"Metrics_cluster": {"actions": [{"root": "INS ImportDeclaration to CompilationUnit at 1", "operations": ["INS QualifiedName: org.apache.commons.logging.Log to ImportDeclaration at 0", "INS ImportDeclaration to CompilationUnit at 1"]}, {"root": "INS ImportDeclaration to CompilationUnit at 2", "operations": ["INS QualifiedName: org.apache.commons.logging.LogFactory to ImportDeclaration at 0", "INS ImportDeclaration to CompilationUnit at 2"]}, {"root": "INS FieldDeclaration to TypeDeclaration: class at 2", "operations": ["INS SimpleName: LOG to VariableDeclarationFragment at 0", "INS SimpleName: Log to SimpleType: Log at 0", "INS Modifier: private to FieldDeclaration at 0", "INS MethodInvocation to VariableDeclarationFragment at 1", "INS Modifier: static to FieldDeclaration at 1", "INS VariableDeclarationFragment to FieldDeclaration at 4", "INS TypeLiteral to MethodInvocation at 2", "INS SimpleType: Log to FieldDeclaration at 3", "INS SimpleName: LogFactory to MethodInvocation at 0", "INS FieldDeclaration to TypeDeclaration: class at 2", "INS Modifier: final to FieldDeclaration at 2", "INS SimpleType: Metrics to TypeLiteral at 0", "INS SimpleName: getLog to MethodInvocation at 1", "INS SimpleName: Metrics to SimpleType: Metrics at 0"]}, {"root": "INS FieldDeclaration to TypeDeclaration: class at 4", "operations": ["INS Modifier: private to FieldDeclaration at 0", "INS VariableDeclarationFragment to FieldDeclaration at 3", "INS Modifier: static to FieldDeclaration at 1", "INS PrimitiveType: boolean to FieldDeclaration at 2", "INS FieldDeclaration to TypeDeclaration: class at 4", "INS SimpleName: initialized to VariableDeclarationFragment at 0"]}, {"root": "INS FieldDeclaration to TypeDeclaration: class at 5", "operations": ["INS Modifier: final to FieldDeclaration at 3", "INS SimpleType: String to FieldDeclaration at 4", "INS Modifier: public to FieldDeclaration at 1", "INS StringLiteral: \"phoenix\" to VariableDeclarationFragment at 1", "INS FieldDeclaration to TypeDeclaration: class at 5", "INS Modifier: static to FieldDeclaration at 2", "INS TextElement: This must match the prefix that we are using in the hadoop-metrics2 config on the client  to TagElement at 0", "INS Javadoc to FieldDeclaration at 0", "INS VariableDeclarationFragment to FieldDeclaration at 5", "INS SimpleName: String to SimpleType: String at 0", "INS TagElement to Javadoc at 0", "INS SimpleName: METRICS_SYSTEM_NAME to VariableDeclarationFragment at 0"]}, {"root": "INS MethodDeclaration to TypeDeclaration: class at 6", "operations": ["INS Assignment: = to ExpressionStatement at 0", "INS SimpleType: Metrics to TypeLiteral at 0", "INS SimpleName: initialize to MethodInvocation at 1", "INS TypeLiteral to SynchronizedStatement at 0", "INS SimpleName: getManager to MethodInvocation at 1", "INS VariableDeclarationFragment to VariableDeclarationStatement at 1", "INS StringLiteral: \"Initializing metrics system: \" to InfixExpression: + at 0", "INS NullLiteral to InfixExpression: == at 1", "INS InfixExpression: + to MethodInvocation at 2", "INS ReturnStatement to Block at 3", "INS NullLiteral to ReturnStatement at 0", "INS MethodInvocation to ExpressionStatement at 0", "INS QualifiedName: Metrics.METRICS_SYSTEM_NAME to MethodInvocation at 2", "INS SimpleName: initialized to Assignment: = at 0", "INS ExpressionStatement to Block at 1", "INS SimpleName: info to MethodInvocation at 1", "INS IfStatement to Block at 0", "INS SimpleName: LOG to MethodInvocation at 0", "INS SimpleName: Metrics to MethodInvocation at 0", "INS SimpleName: warn to MethodInvocation at 1", "INS IfStatement to Block at 1", "INS ExpressionStatement to Block at 0", "INS QualifiedName: Metrics.METRICS_SYSTEM_NAME to InfixExpression: + at 1", "INS SimpleName: manager to MethodInvocation at 0", "INS Modifier: static to MethodDeclaration at 1", "INS SimpleName: manager to ReturnStatement at 0", "INS SimpleName: manager to InfixExpression: == at 0", "INS MethodDeclaration to TypeDeclaration: class at 6", "INS SimpleName: initialized to PrefixExpression: ! at 0", "INS ExpressionStatement to Block at 0", "INS SimpleType: MetricsManager to VariableDeclarationStatement at 0", "INS SimpleName: LOG to MethodInvocation at 0", "INS SimpleName: manager to VariableDeclarationFragment at 0", "INS SimpleName: Metrics to SimpleType: Metrics at 0", "INS MethodInvocation to ExpressionStatement at 0", "INS Block to IfStatement at 1", "INS StringLiteral: \"Phoenix metrics could not be initialized - no MetricsManager found!\" to MethodInvocation at 2", "INS ReturnStatement to Block at 1", "INS Block to SynchronizedStatement at 1", "INS Block to MethodDeclaration at 4", "INS Block to IfStatement at 1", "INS MethodInvocation to VariableDeclarationFragment at 1", "INS PrefixExpression: ! to IfStatement at 0", "INS ExpressionStatement to Block at 2", "INS SimpleName: initialize to MethodDeclaration at 3", "INS InfixExpression: == to IfStatement at 0", "INS SimpleName: MetricsManager to SimpleType: MetricsManager at 0", "INS SimpleName: MetricsManager to SimpleType: MetricsManager at 0", "INS SynchronizedStatement to Block at 2", "INS Modifier: public to MethodDeclaration at 0", "INS VariableDeclarationStatement to Block at 0", "INS MethodInvocation to ExpressionStatement at 0", "INS BooleanLiteral: true to Assignment: = at 1", "INS SimpleType: MetricsManager to MethodDeclaration at 2"]}, {"root": "INS FieldDeclaration to TypeDeclaration: class at 8", "operations": ["INS Modifier: volatile to FieldDeclaration at 2", "INS FieldDeclaration to TypeDeclaration: class at 8", "INS Modifier: private to FieldDeclaration at 0", "INS PrimitiveType: boolean to FieldDeclaration at 3", "INS VariableDeclarationFragment to FieldDeclaration at 4", "INS Modifier: static to FieldDeclaration at 1", "INS BooleanLiteral: false to VariableDeclarationFragment at 1", "INS SimpleName: sinkInitialized to VariableDeclarationFragment at 0"]}, {"root": "INS MethodDeclaration to TypeDeclaration: class at 9", "operations": ["INS TagElement to Javadoc at 0", "INS TextElement: Mark that the metrics/tracing sink has been initialized to TagElement at 0", "INS BooleanLiteral: true to Assignment: = at 1", "INS SimpleName: markSinkInitialized to MethodDeclaration at 4", "INS Javadoc to MethodDeclaration at 0", "INS Modifier: public to MethodDeclaration at 1", "INS PrimitiveType: void to MethodDeclaration at 3", "INS MethodDeclaration to TypeDeclaration: class at 9", "INS SimpleName: sinkInitialized to Assignment: = at 0", "INS Block to MethodDeclaration at 5", "INS Modifier: static to MethodDeclaration at 2", "INS ExpressionStatement to Block at 0", "INS Assignment: = to ExpressionStatement at 0"]}, {"root": "INS MethodDeclaration to TypeDeclaration: class at 10", "operations": ["INS MethodDeclaration to TypeDeclaration: class at 10", "INS SimpleName: sinkInitialized to PrefixExpression: ! at 0", "INS StringLiteral: \"Phoenix metrics2/tracing sink was not started. Should be it be?\" to MethodInvocation at 2", "INS ExpressionStatement to Block at 0", "INS SimpleName: LOG to MethodInvocation at 0", "INS Block to MethodDeclaration at 4", "INS PrefixExpression: ! to IfStatement at 0", "INS Modifier: static to MethodDeclaration at 1", "INS IfStatement to Block at 0", "INS PrimitiveType: void to MethodDeclaration at 2", "INS SimpleName: ensureConfigured to MethodDeclaration at 3", "INS MethodInvocation to ExpressionStatement at 0", "INS Block to IfStatement at 1", "INS SimpleName: warn to MethodInvocation at 1", "INS Modifier: public to MethodDeclaration at 0"]}]}}, {"Metrics_diff": {"operations": ["Insert ImportDeclaration(18) into CompilationUnit(195) at 1", "Insert ImportDeclaration(20) into CompilationUnit(195) at 2", "Insert QualifiedName: org.apache.commons.logging.Log(17) into ImportDeclaration(18) at 0", "Insert QualifiedName: org.apache.commons.logging.LogFactory(19) into ImportDeclaration(20) at 0", "Insert FieldDeclaration(38) into TypeDeclaration: class(194) at 2", "Insert FieldDeclaration(52) into TypeDeclaration: class(194) at 4", "Insert FieldDeclaration(64) into TypeDeclaration: class(194) at 5", "Insert MethodDeclaration(118) into TypeDeclaration: class(194) at 6", "Insert FieldDeclaration(165) into TypeDeclaration: class(194) at 8", "Insert MethodDeclaration(178) into TypeDeclaration: class(194) at 9", "Insert MethodDeclaration(193) into TypeDeclaration: class(194) at 10", "Insert Modifier: private(25) into FieldDeclaration(38) at 0", "Insert Modifier: static(26) into FieldDeclaration(38) at 1", "Insert Modifier: final(27) into FieldDeclaration(38) at 2", "Insert SimpleType: Log(29) into FieldDeclaration(38) at 3", "Insert VariableDeclarationFragment(37) into FieldDeclaration(38) at 4", "Insert Modifier: private(47) into FieldDeclaration(52) at 0", "Insert Modifier: static(48) into FieldDeclaration(52) at 1", "Insert PrimitiveType: boolean(49) into FieldDeclaration(52) at 2", "Insert VariableDeclarationFragment(51) into FieldDeclaration(52) at 3", "Insert Javadoc(55) into FieldDeclaration(64) at 0", "Insert Modifier: public(56) into FieldDeclaration(64) at 1", "Insert Modifier: static(57) into FieldDeclaration(64) at 2", "Insert Modifier: final(58) into FieldDeclaration(64) at 3", "Insert SimpleType: String(60) into FieldDeclaration(64) at 4", "Insert VariableDeclarationFragment(63) into FieldDeclaration(64) at 5", "Insert Modifier: public(65) into MethodDeclaration(118) at 0", "Insert Modifier: static(66) into MethodDeclaration(118) at 1", "Insert SimpleType: MetricsManager(68) into MethodDeclaration(118) at 2", "Insert SimpleName: initialize(69) into MethodDeclaration(118) at 3", "Insert Block(117) into MethodDeclaration(118) at 4", "Insert Modifier: private(158) into FieldDeclaration(165) at 0", "Insert Modifier: static(159) into FieldDeclaration(165) at 1", "Insert Modifier: volatile(160) into FieldDeclaration(165) at 2", "Insert PrimitiveType: boolean(161) into FieldDeclaration(165) at 3", "Insert VariableDeclarationFragment(164) into FieldDeclaration(165) at 4", "Insert Javadoc(168) into MethodDeclaration(178) at 0", "Insert Modifier: public(169) into MethodDeclaration(178) at 1", "Insert Modifier: static(170) into MethodDeclaration(178) at 2", "Insert PrimitiveType: void(171) into MethodDeclaration(178) at 3", "Insert SimpleName: markSinkInitialized(172) into MethodDeclaration(178) at 4", "Insert Block(177) into MethodDeclaration(178) at 5", "Insert Modifier: public(179) into MethodDeclaration(193) at 0", "Insert Modifier: static(180) into MethodDeclaration(193) at 1", "Insert PrimitiveType: void(181) into MethodDeclaration(193) at 2", "Insert SimpleName: ensureConfigured(182) into MethodDeclaration(193) at 3", "Insert Block(192) into MethodDeclaration(193) at 4", "Insert SimpleName: Log(28) into SimpleType: Log(29) at 0", "Insert SimpleName: LOG(30) into VariableDeclarationFragment(37) at 0", "Insert MethodInvocation(36) into VariableDeclarationFragment(37) at 1", "Insert SimpleName: initialized(50) into VariableDeclarationFragment(51) at 0", "Insert TagElement(54) into Javadoc(55) at 0", "Insert SimpleName: String(59) into SimpleType: String(60) at 0", "Insert SimpleName: METRICS_SYSTEM_NAME(61) into VariableDeclarationFragment(63) at 0", "Insert StringLiteral: \"phoenix\"(62) into VariableDeclarationFragment(63) at 1", "Insert SimpleName: MetricsManager(67) into SimpleType: MetricsManager(68) at 0", "Insert VariableDeclarationStatement(77) into Block(117) at 0", "Insert IfStatement(89) into Block(117) at 1", "Insert SynchronizedStatement(114) into Block(117) at 2", "Insert ReturnStatement(116) into Block(117) at 3", "Insert SimpleName: sinkInitialized(162) into VariableDeclarationFragment(164) at 0", "Insert BooleanLiteral: false(163) into VariableDeclarationFragment(164) at 1", "Insert TagElement(167) into Javadoc(168) at 0", "Insert ExpressionStatement(176) into Block(177) at 0", "Insert IfStatement(191) into Block(192) at 0", "Insert SimpleName: LogFactory(31) into MethodInvocation(36) at 0", "Insert SimpleName: getLog(32) into MethodInvocation(36) at 1", "Insert TypeLiteral(35) into MethodInvocation(36) at 2", "Insert TextElement: This must match the prefix that we are using in the hadoop-metrics2 config on the client (53) into TagElement(54) at 0", "Insert SimpleType: MetricsManager(71) into VariableDeclarationStatement(77) at 0", "Insert VariableDeclarationFragment(76) into VariableDeclarationStatement(77) at 1", "Insert InfixExpression: ==(80) into IfStatement(89) at 0", "Insert Block(88) into IfStatement(89) at 1", "Insert TypeLiteral(92) into SynchronizedStatement(114) at 0", "Insert Block(113) into SynchronizedStatement(114) at 1", "Insert SimpleName: manager(115) into ReturnStatement(116) at 0", "Insert TextElement: Mark that the metrics/tracing sink has been initialized(166) into TagElement(167) at 0", "Insert Assignment: =(175) into ExpressionStatement(176) at 0", "Insert PrefixExpression: !(184) into IfStatement(191) at 0", "Insert Block(190) into IfStatement(191) at 1", "Insert SimpleType: Metrics(34) into TypeLiteral(35) at 0", "Insert SimpleName: MetricsManager(70) into SimpleType: MetricsManager(71) at 0", "Insert SimpleName: manager(72) into VariableDeclarationFragment(76) at 0", "Insert MethodInvocation(75) into VariableDeclarationFragment(76) at 1", "Insert SimpleName: manager(78) into InfixExpression: ==(80) at 0", "Insert NullLiteral(79) into InfixExpression: ==(80) at 1", "Insert ExpressionStatement(85) into Block(88) at 0", "Insert ReturnStatement(87) into Block(88) at 1", "Insert SimpleType: Metrics(91) into TypeLiteral(92) at 0", "Insert IfStatement(112) into Block(113) at 0", "Insert SimpleName: sinkInitialized(173) into Assignment: =(175) at 0", "Insert BooleanLiteral: true(174) into Assignment: =(175) at 1", "Insert SimpleName: sinkInitialized(183) into PrefixExpression: !(184) at 0", "Insert ExpressionStatement(189) into Block(190) at 0", "Insert SimpleName: Metrics(33) into SimpleType: Metrics(34) at 0", "Insert SimpleName: Metrics(73) into MethodInvocation(75) at 0", "Insert SimpleName: getManager(74) into MethodInvocation(75) at 1", "Insert MethodInvocation(84) into ExpressionStatement(85) at 0", "Insert NullLiteral(86) into ReturnStatement(87) at 0", "Insert SimpleName: Metrics(90) into SimpleType: Metrics(91) at 0", "Insert PrefixExpression: !(94) into IfStatement(112) at 0", "Insert Block(111) into IfStatement(112) at 1", "Insert MethodInvocation(188) into ExpressionStatement(189) at 0", "Insert SimpleName: LOG(81) into MethodInvocation(84) at 0", "Insert SimpleName: warn(82) into MethodInvocation(84) at 1", "Insert StringLiteral: \"Phoenix metrics could not be initialized - no MetricsManager found!\"(83) into MethodInvocation(84) at 2", "Insert SimpleName: initialized(93) into PrefixExpression: !(94) at 0", "Insert ExpressionStatement(101) into Block(111) at 0", "Insert ExpressionStatement(106) into Block(111) at 1", "Insert ExpressionStatement(110) into Block(111) at 2", "Insert SimpleName: LOG(185) into MethodInvocation(188) at 0", "Insert SimpleName: warn(186) into MethodInvocation(188) at 1", "Insert StringLiteral: \"Phoenix metrics2/tracing sink was not started. Should be it be?\"(187) into MethodInvocation(188) at 2", "Insert MethodInvocation(100) into ExpressionStatement(101) at 0", "Insert MethodInvocation(105) into ExpressionStatement(106) at 0", "Insert Assignment: =(109) into ExpressionStatement(110) at 0", "Insert SimpleName: LOG(95) into MethodInvocation(100) at 0", "Insert SimpleName: info(96) into MethodInvocation(100) at 1", "Insert InfixExpression: +(99) into MethodInvocation(100) at 2", "Insert SimpleName: manager(102) into MethodInvocation(105) at 0", "Insert SimpleName: initialize(103) into MethodInvocation(105) at 1", "Insert QualifiedName: Metrics.METRICS_SYSTEM_NAME(104) into MethodInvocation(105) at 2", "Insert SimpleName: initialized(107) into Assignment: =(109) at 0", "Insert BooleanLiteral: true(108) into Assignment: =(109) at 1", "Insert StringLiteral: \"Initializing metrics system: \"(97) into InfixExpression: +(99) at 0", "Insert QualifiedName: Metrics.METRICS_SYSTEM_NAME(98) into InfixExpression: +(99) at 1"]}}, {"TracingCompat_cluster": {"actions": [{"root": "INS FieldDeclaration to TypeDeclaration: class at 7", "operations": ["INS VariableDeclarationFragment to FieldDeclaration at 5", "INS SimpleName: METRICS_MARKER_CONTEXT to VariableDeclarationFragment at 0", "INS Modifier: final to FieldDeclaration at 3", "INS SimpleType: String to FieldDeclaration at 4", "INS Javadoc to FieldDeclaration at 0", "INS TagElement to Javadoc at 0", "INS TextElement: Marker metric to ensure that we register the tracing mbeans  to TagElement at 0", "INS FieldDeclaration to TypeDeclaration: class at 7", "INS StringLiteral: \"marker\" to VariableDeclarationFragment at 1", "INS Modifier: static to FieldDeclaration at 2", "INS SimpleName: String to SimpleType: String at 0", "INS Modifier: public to FieldDeclaration at 1"]}]}}, {"TracingCompat_diff": {"operations": ["Insert FieldDeclaration(101) into TypeDeclaration: class(298) at 7", "Insert Javadoc(92) into FieldDeclaration(101) at 0", "Insert Modifier: public(93) into FieldDeclaration(101) at 1", "Insert Modifier: static(94) into FieldDeclaration(101) at 2", "Insert Modifier: final(95) into FieldDeclaration(101) at 3", "Insert SimpleType: String(97) into FieldDeclaration(101) at 4", "Insert VariableDeclarationFragment(100) into FieldDeclaration(101) at 5", "Insert TagElement(91) into Javadoc(92) at 0", "Insert SimpleName: String(96) into SimpleType: String(97) at 0", "Insert SimpleName: METRICS_MARKER_CONTEXT(98) into VariableDeclarationFragment(100) at 0", "Insert StringLiteral: \"marker\"(99) into VariableDeclarationFragment(100) at 1", "Insert TextElement: Marker metric to ensure that we register the tracing mbeans (90) into TagElement(91) at 0"]}}, {"TraceMetricSource_cluster": {"actions": [{"root": "INS VariableDeclarationStatement to Block at 0", "operations": ["INS SimpleType: MetricsRecordBuilder to VariableDeclarationStatement at 0", "INS SimpleName: MetricsRecordBuilder to SimpleType: MetricsRecordBuilder at 0", "INS SimpleName: addRecord to MethodInvocation at 1", "INS SimpleName: marker to VariableDeclarationFragment at 0", "INS QualifiedName: TracingCompat.METRICS_MARKER_CONTEXT to MethodInvocation at 2", "INS VariableDeclarationFragment to VariableDeclarationStatement at 1", "INS SimpleName: collector to MethodInvocation at 0", "INS MethodInvocation to VariableDeclarationFragment at 1", "INS VariableDeclarationStatement to Block at 0"]}, {"root": "INS ExpressionStatement to Block at 1", "operations": ["INS ExpressionStatement to Block at 1", "INS MethodInvocation to MethodInvocation at 2", "INS SimpleName: add to MethodInvocation at 1", "INS MethodInvocation to ClassInstanceCreation at 2", "INS ClassInstanceCreation to MethodInvocation at 2", "INS SimpleName: marker to MethodInvocation at 0", "INS SimpleName: toString to MethodInvocation at 1", "INS SimpleName: MetricsInfo to SimpleType: MetricsInfo at 0", "INS SimpleType: MetricsTag to ClassInstanceCreation at 0", "INS SimpleName: size to MethodInvocation at 1", "INS ClassInstanceCreation to CastExpression at 1", "INS MethodInvocation to ExpressionStatement at 0", "INS StringLiteral: \"num spans\" to ClassInstanceCreation at 2", "INS SimpleName: Integer to MethodInvocation at 0", "INS SimpleName: MetricsTag to SimpleType: MetricsTag at 0", "INS SimpleName: MetricsInfoImpl to SimpleType: MetricsInfoImpl at 0", "INS CastExpression to ClassInstanceCreation at 1", "INS SimpleType: MetricsInfoImpl to ClassInstanceCreation at 0", "INS SimpleName: spans to MethodInvocation at 0", "INS SimpleType: MetricsInfo to CastExpression at 0", "INS StringLiteral: \"stat\" to ClassInstanceCreation at 1"]}, {"root": "UPDATE from getManager to initialize", "operations": ["UPD SimpleName: getManager from getManager to initialize"]}, {"root": "DEL FieldDeclaration", "operations": ["DEL SimpleType: String", "DEL Modifier: private", "DEL SimpleName: String", "DEL Modifier: static", "DEL VariableDeclarationFragment", "DEL StringLiteral: \"phoenix\"", "DEL TextElement: This must match the prefix that we are using in the hadoop-metrics2 config ", "DEL FieldDeclaration", "DEL Modifier: final", "DEL TagElement", "DEL SimpleName: METRICS_SYSTEM_NAME", "DEL Javadoc"]}, {"root": "DEL ExpressionStatement", "operations": ["DEL SimpleName: initialize", "DEL SimpleName: METRICS_SYSTEM_NAME", "DEL ExpressionStatement", "DEL MethodInvocation", "DEL SimpleName: manager"]}]}}, {"TraceMetricSource_diff": {"operations": ["Insert VariableDeclarationStatement(387) into Block(483) at 0", "Insert ExpressionStatement(408) into Block(483) at 1", "Insert SimpleType: MetricsRecordBuilder(380) into VariableDeclarationStatement(387) at 0", "Insert VariableDeclarationFragment(386) into VariableDeclarationStatement(387) at 1", "Insert MethodInvocation(407) into ExpressionStatement(408) at 0", "Insert SimpleName: MetricsRecordBuilder(379) into SimpleType: MetricsRecordBuilder(380) at 0", "Insert SimpleName: marker(381) into VariableDeclarationFragment(386) at 0", "Insert MethodInvocation(385) into VariableDeclarationFragment(386) at 1", "Insert SimpleName: marker(388) into MethodInvocation(407) at 0", "Insert SimpleName: add(389) into MethodInvocation(407) at 1", "Insert ClassInstanceCreation(406) into MethodInvocation(407) at 2", "Update SimpleName: getManager(194) to initialize", "Insert SimpleName: collector(382) into MethodInvocation(385) at 0", "Insert SimpleName: addRecord(383) into MethodInvocation(385) at 1", "Insert QualifiedName: TracingCompat.METRICS_MARKER_CONTEXT(384) into MethodInvocation(385) at 2", "Insert SimpleType: MetricsTag(391) into ClassInstanceCreation(406) at 0", "Insert CastExpression(399) into ClassInstanceCreation(406) at 1", "Insert MethodInvocation(405) into ClassInstanceCreation(406) at 2", "Insert SimpleName: MetricsTag(390) into SimpleType: MetricsTag(391) at 0", "Insert SimpleType: MetricsInfo(393) into CastExpression(399) at 0", "Insert ClassInstanceCreation(398) into CastExpression(399) at 1", "Insert SimpleName: Integer(400) into MethodInvocation(405) at 0", "Insert SimpleName: toString(401) into MethodInvocation(405) at 1", "Insert MethodInvocation(404) into MethodInvocation(405) at 2", "Insert SimpleName: MetricsInfo(392) into SimpleType: MetricsInfo(393) at 0", "Insert SimpleType: MetricsInfoImpl(395) into ClassInstanceCreation(398) at 0", "Insert StringLiteral: \"stat\"(396) into ClassInstanceCreation(398) at 1", "Insert StringLiteral: \"num spans\"(397) into ClassInstanceCreation(398) at 2", "Insert SimpleName: spans(402) into MethodInvocation(404) at 0", "Insert SimpleName: size(403) into MethodInvocation(404) at 1", "Insert SimpleName: MetricsInfoImpl(394) into SimpleType: MetricsInfoImpl(395) at 0", "Delete TextElement: This must match the prefix that we are using in the hadoop-metrics2 config (152)", "Delete TagElement(153)", "Delete Javadoc(154)", "Delete Modifier: private(155)", "Delete Modifier: static(156)", "Delete Modifier: final(157)", "Delete SimpleName: String(158)", "Delete SimpleType: String(159)", "Delete SimpleName: METRICS_SYSTEM_NAME(160)", "Delete StringLiteral: \"phoenix\"(161)", "Delete VariableDeclarationFragment(162)", "Delete FieldDeclaration(163)", "Delete SimpleName: manager(198)", "Delete SimpleName: initialize(199)", "Delete SimpleName: METRICS_SYSTEM_NAME(200)", "Delete MethodInvocation(201)", "Delete ExpressionStatement(202)"]}}], "commit_stats": [{"total_files": 20, "deleted_files": 2, "testing": "True", "maintenance": "True", "build": "True"}]}