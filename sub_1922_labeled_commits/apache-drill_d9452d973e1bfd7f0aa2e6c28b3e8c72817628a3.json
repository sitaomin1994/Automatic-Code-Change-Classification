{"application": "apache-drill", "csha": "d9452d973e1bfd7f0aa2e6c28b3e8c72817628a3", "files": [{"FragmentData_cluster": {"actions": [{"root": "UPDATE from boolean to void", "operations": ["UPD PrimitiveType: boolean from boolean to void"]}, {"root": "UPDATE from Update the status for this fragment.  Also records last update and last progress time. to Update the status for this fragment. Also records last update and last progress time.", "operations": ["UPD TextElement: Update the status for this fragment.  Also records last update and last progress time. from Update the status for this fragment.  Also records last update and last progress time. to Update the status for this fragment. Also records last update and last progress time."]}, {"root": "UPDATE from status to newStatus", "operations": ["UPD SimpleName: status from status to newStatus"]}, {"root": "INS SimpleName: lastStatusUpdate to Assignment: = at 0", "operations": ["INS SimpleName: lastStatusUpdate to Assignment: = at 0"]}, {"root": "INS SimpleName: lastProgress to Assignment: = at 0", "operations": ["INS SimpleName: lastProgress to Assignment: = at 0"]}, {"root": "DEL ImportDeclaration", "operations": ["DEL QualifiedName: org.apache.drill.exec.proto.helper.QueryIdHelper", "DEL ImportDeclaration"]}, {"root": "DEL FieldDeclaration", "operations": ["DEL Modifier: static", "DEL SimpleType: FragmentData", "DEL Modifier: final", "DEL Modifier: private", "DEL SimpleName: logger", "DEL SimpleType: org.slf4j.Logger", "DEL MethodInvocation", "DEL SimpleName: FragmentData", "DEL VariableDeclarationFragment", "DEL SimpleName: getLogger", "DEL QualifiedName: org.slf4j.LoggerFactory", "DEL FieldDeclaration", "DEL TypeLiteral", "DEL QualifiedName: org.slf4j.Logger"]}, {"root": "DEL TagElement: @return", "operations": ["DEL TagElement: @return", "DEL TextElement:  Whether or not the status update resulted in a FragmentState change."]}, {"root": "DEL VariableDeclarationStatement", "operations": ["DEL VariableDeclarationFragment", "DEL MethodInvocation", "DEL SimpleName: getProfile", "DEL MethodInvocation", "DEL SimpleType: FragmentState", "DEL SimpleName: status", "DEL SimpleName: oldState", "DEL Modifier: final", "DEL VariableDeclarationStatement", "DEL SimpleName: FragmentState", "DEL SimpleName: getState"]}, {"root": "DEL VariableDeclarationStatement", "operations": ["DEL InfixExpression: ||", "DEL VariableDeclarationFragment", "DEL QualifiedName: FragmentState.FINISHED", "DEL SimpleName: oldState", "DEL SimpleName: oldState", "DEL VariableDeclarationStatement", "DEL PrimitiveType: boolean", "DEL InfixExpression: ||", "DEL InfixExpression: ==", "DEL Modifier: final", "DEL SimpleName: inTerminalState", "DEL QualifiedName: FragmentState.CANCELLED", "DEL SimpleName: oldState", "DEL QualifiedName: FragmentState.FAILED", "DEL InfixExpression: ==", "DEL InfixExpression: =="]}, {"root": "DEL VariableDeclarationStatement", "operations": ["DEL SimpleType: FragmentState", "DEL SimpleName: newStatus", "DEL MethodInvocation", "DEL SimpleName: getProfile", "DEL SimpleName: currentState", "DEL MethodInvocation", "DEL SimpleName: getState", "DEL VariableDeclarationFragment", "DEL Modifier: final", "DEL SimpleName: FragmentState", "DEL VariableDeclarationStatement"]}, {"root": "DEL VariableDeclarationStatement", "operations": ["DEL VariableDeclarationStatement", "DEL VariableDeclarationFragment", "DEL InfixExpression: !=", "DEL SimpleName: oldState", "DEL SimpleName: stateChanged", "DEL Modifier: final", "DEL PrimitiveType: boolean", "DEL SimpleName: currentState"]}, {"root": "DEL IfStatement", "operations": ["DEL MethodInvocation", "DEL SimpleName: oldState", "DEL SimpleName: getQueryIdentifier", "DEL SimpleName: inTerminalState", "DEL ReturnStatement", "DEL MethodInvocation", "DEL Block", "DEL MethodInvocation", "DEL SimpleName: currentState", "DEL MethodInvocation", "DEL BooleanLiteral: false", "DEL SimpleName: logger", "DEL IfStatement", "DEL ExpressionStatement", "DEL SimpleName: String", "DEL StringLiteral: \"Received status message for fragment %s after fragment was in state %s. New state was %s\"", "DEL SimpleName: getHandle", "DEL SimpleName: QueryIdHelper", "DEL SimpleName: warn", "DEL SimpleName: format"]}, {"root": "DEL FieldAccess", "operations": ["DEL ThisExpression", "DEL SimpleName: lastStatusUpdate", "DEL FieldAccess"]}, {"root": "DEL FieldAccess", "operations": ["DEL SimpleName: lastProgress", "DEL ThisExpression", "DEL FieldAccess"]}, {"root": "DEL ReturnStatement", "operations": ["DEL ReturnStatement", "DEL SimpleName: stateChanged"]}]}}, {"FragmentData_diff": {"operations": ["Update PrimitiveType: boolean(160) to void", "Update TextElement: Update the status for this fragment.  Also records last update and last progress time.(151) to Update the status for this fragment. Also records last update and last progress time.", "Update SimpleName: status(153) to newStatus", "Insert SimpleName: lastStatusUpdate(157) into Assignment: =(159) at 0", "Insert SimpleName: lastProgress(165) into Assignment: =(167) at 0", "Delete QualifiedName: org.apache.drill.exec.proto.helper.QueryIdHelper(29)", "Delete ImportDeclaration(30)", "Delete Modifier: private(33)", "Delete Modifier: static(34)", "Delete Modifier: final(35)", "Delete QualifiedName: org.slf4j.Logger(36)", "Delete SimpleType: org.slf4j.Logger(37)", "Delete SimpleName: logger(38)", "Delete QualifiedName: org.slf4j.LoggerFactory(39)", "Delete SimpleName: getLogger(40)", "Delete SimpleName: FragmentData(41)", "Delete SimpleType: FragmentData(42)", "Delete TypeLiteral(43)", "Delete MethodInvocation(44)", "Delete VariableDeclarationFragment(45)", "Delete FieldDeclaration(46)", "Delete TextElement:  Whether or not the status update resulted in a FragmentState change.(156)", "Delete TagElement: @return(157)", "Delete Modifier: final(175)", "Delete SimpleName: FragmentState(176)", "Delete SimpleType: FragmentState(177)", "Delete SimpleName: oldState(178)", "Delete SimpleName: status(179)", "Delete SimpleName: getProfile(180)", "Delete MethodInvocation(181)", "Delete SimpleName: getState(182)", "Delete MethodInvocation(183)", "Delete VariableDeclarationFragment(184)", "Delete VariableDeclarationStatement(185)", "Delete Modifier: final(186)", "Delete PrimitiveType: boolean(187)", "Delete SimpleName: inTerminalState(188)", "Delete SimpleName: oldState(189)", "Delete QualifiedName: FragmentState.FAILED(190)", "Delete InfixExpression: ==(191)", "Delete SimpleName: oldState(192)", "Delete QualifiedName: FragmentState.FINISHED(193)", "Delete InfixExpression: ==(194)", "Delete InfixExpression: ||(195)", "Delete SimpleName: oldState(196)", "Delete QualifiedName: FragmentState.CANCELLED(197)", "Delete InfixExpression: ==(198)", "Delete InfixExpression: ||(199)", "Delete VariableDeclarationFragment(200)", "Delete VariableDeclarationStatement(201)", "Delete Modifier: final(202)", "Delete SimpleName: FragmentState(203)", "Delete SimpleType: FragmentState(204)", "Delete SimpleName: currentState(205)", "Delete SimpleName: newStatus(206)", "Delete SimpleName: getProfile(207)", "Delete MethodInvocation(208)", "Delete SimpleName: getState(209)", "Delete MethodInvocation(210)", "Delete VariableDeclarationFragment(211)", "Delete VariableDeclarationStatement(212)", "Delete Modifier: final(213)", "Delete PrimitiveType: boolean(214)", "Delete SimpleName: stateChanged(215)", "Delete SimpleName: currentState(216)", "Delete SimpleName: oldState(217)", "Delete InfixExpression: !=(218)", "Delete VariableDeclarationFragment(219)", "Delete VariableDeclarationStatement(220)", "Delete SimpleName: inTerminalState(221)", "Delete SimpleName: logger(222)", "Delete SimpleName: warn(223)", "Delete SimpleName: String(224)", "Delete SimpleName: format(225)", "Delete StringLiteral: \"Received status message for fragment %s after fragment was in state %s. New state was %s\"(226)", "Delete SimpleName: QueryIdHelper(227)", "Delete SimpleName: getQueryIdentifier(228)", "Delete SimpleName: getHandle(229)", "Delete MethodInvocation(230)", "Delete MethodInvocation(231)", "Delete SimpleName: oldState(232)", "Delete SimpleName: currentState(233)", "Delete MethodInvocation(234)", "Delete MethodInvocation(235)", "Delete ExpressionStatement(236)", "Delete BooleanLiteral: false(237)", "Delete ReturnStatement(238)", "Delete Block(239)", "Delete IfStatement(240)", "Delete ThisExpression(241)", "Delete SimpleName: lastStatusUpdate(242)", "Delete FieldAccess(243)", "Delete ThisExpression(251)", "Delete SimpleName: lastProgress(252)", "Delete FieldAccess(253)", "Delete SimpleName: stateChanged(263)", "Delete ReturnStatement(264)"]}}, {"QueryManager_cluster": {"actions": [{"root": "MOVE from CompilationUnit", "operations": ["MOV ImportDeclaration to CompilationUnit at 17"]}, {"root": "UPDATE from org.apache.drill.exec.work.fragment.FragmentExecutor to org.apache.drill.exec.proto.UserBitShared.FragmentState", "operations": ["UPD QualifiedName: org.apache.drill.exec.work.fragment.FragmentExecutor from org.apache.drill.exec.work.fragment.FragmentExecutor to org.apache.drill.exec.proto.UserBitShared.FragmentState"]}, {"root": "INS MethodDeclaration to TypeDeclaration: class at 22", "operations": ["INS InfixExpression: || to InfixExpression: || at 0", "INS InfixExpression: == to InfixExpression: || at 1", "INS SimpleName: state to InfixExpression: == at 0", "INS Modifier: static to MethodDeclaration at 1", "INS QualifiedName: FragmentState.FAILED to InfixExpression: == at 1", "INS SimpleName: FragmentState to SimpleType: FragmentState at 0", "INS InfixExpression: || to ReturnStatement at 0", "INS PrimitiveType: boolean to MethodDeclaration at 2", "INS QualifiedName: FragmentState.CANCELLED to InfixExpression: == at 1", "INS Block to MethodDeclaration at 5", "INS SimpleName: state to SingleVariableDeclaration at 2", "INS InfixExpression: == to InfixExpression: || at 0", "INS ReturnStatement to Block at 0", "INS Modifier: final to SingleVariableDeclaration at 0", "INS Modifier: private to MethodDeclaration at 0", "INS SimpleName: state to InfixExpression: == at 0", "INS SingleVariableDeclaration to MethodDeclaration at 4", "INS QualifiedName: FragmentState.FINISHED to InfixExpression: == at 1", "INS SimpleName: state to InfixExpression: == at 0", "INS InfixExpression: == to InfixExpression: || at 1", "INS MethodDeclaration to TypeDeclaration: class at 22", "INS SimpleName: isTerminal to MethodDeclaration at 3", "INS SimpleType: FragmentState to SingleVariableDeclaration at 1"]}, {"root": "INS Block to MethodDeclaration at 4", "operations": ["INS SimpleName: inTerminalState to InfixExpression: || at 0", "INS ExpressionStatement to Block at 0", "INS SimpleName: logger to MethodInvocation at 0", "INS SimpleName: data to MethodInvocation at 0", "INS SimpleName: inTerminalState to VariableDeclarationFragment at 0", "INS SimpleName: getState to MethodInvocation at 1", "INS SimpleName: fragmentHandle to MethodInvocation at 2", "INS QualifiedName: FragmentState.CANCELLATION_REQUESTED to InfixExpression: == at 1", "INS SimpleName: currentState to MethodInvocation at 1", "INS MethodInvocation to VariableDeclarationFragment at 1", "INS VariableDeclarationFragment to VariableDeclarationStatement at 2", "INS SimpleName: currentState to MethodInvocation at 5", "INS ExpressionStatement to Block at 8", "INS Block to MethodDeclaration at 4", "INS SimpleName: isTerminal to MethodInvocation at 0", "INS VariableDeclarationStatement to Block at 4", "INS SimpleName: String to MethodInvocation at 0", "INS Modifier: final to VariableDeclarationStatement at 0", "INS PrimitiveType: boolean to VariableDeclarationStatement at 1", "INS SimpleName: format to MethodInvocation at 1", "INS VariableDeclarationFragment to VariableDeclarationStatement at 2", "INS SimpleName: warn to MethodInvocation at 1", "INS MethodInvocation to PrefixExpression: ! at 0", "INS SimpleName: currentState to InfixExpression: != at 1", "INS VariableDeclarationFragment to VariableDeclarationStatement at 2", "INS MethodInvocation to VariableDeclarationFragment at 1", "INS SimpleName: fragmentStatus to MethodInvocation at 0", "INS MethodInvocation to VariableDeclarationFragment at 1", "INS SimpleName: FragmentState to SimpleType: FragmentState at 0", "INS SimpleName: isTerminal to MethodInvocation at 0", "INS StringLiteral: \"Received status message for fragment %s after fragment was in state %s. New state was %s\" to MethodInvocation at 2", "INS SimpleName: FragmentState to SimpleType: FragmentState at 0", "INS ReturnStatement to Block at 9", "INS MethodInvocation to MethodInvocation at 0", "INS InfixExpression: == to InfixExpression: && at 0", "INS VariableDeclarationStatement to Block at 6", "INS SimpleName: currentState to VariableDeclarationFragment at 0", "INS VariableDeclarationStatement to Block at 5", "INS SimpleType: FragmentState to VariableDeclarationStatement at 1", "INS InfixExpression: || to IfStatement at 0", "INS PrefixExpression: ! to InfixExpression: && at 1", "INS SimpleName: QueryIdHelper to MethodInvocation at 0", "INS IfStatement to Block at 7", "INS SimpleName: oldState to InfixExpression: != at 0", "INS MethodInvocation to ExpressionStatement at 0", "INS ParenthesizedExpression to InfixExpression: || at 1", "INS SimpleName: oldState to MethodInvocation at 4", "INS SimpleName: getState to MethodInvocation at 1", "INS SimpleName: oldState to InfixExpression: == at 0", "INS Modifier: final to VariableDeclarationStatement at 0", "INS Modifier: final to VariableDeclarationStatement at 0", "INS SimpleType: FragmentState to VariableDeclarationStatement at 1", "INS SimpleName: getProfile to MethodInvocation at 1", "INS InfixExpression: && to ParenthesizedExpression at 0", "INS MethodInvocation to MethodInvocation at 2", "INS Block to IfStatement at 1", "INS InfixExpression: != to ReturnStatement at 0", "INS SimpleName: oldState to MethodInvocation at 1", "INS SimpleName: getQueryIdentifier to MethodInvocation at 1", "INS SimpleName: oldState to VariableDeclarationFragment at 0", "INS MethodInvocation to MethodInvocation at 3"]}, {"root": "MOVE from Block", "operations": ["MOV VariableDeclarationStatement to Block at 0", "MOV VariableDeclarationStatement to Block at 1", "MOV VariableDeclarationStatement to Block at 2", "MOV VariableDeclarationStatement to Block at 3", "MOV ReturnStatement to Block at 1"]}, {"root": "MOVE from ExpressionStatement", "operations": ["MOV MethodInvocation to ExpressionStatement at 0"]}, {"root": "INS BooleanLiteral: false to ReturnStatement at 0", "operations": ["INS BooleanLiteral: false to ReturnStatement at 0"]}, {"root": "DEL ImportDeclaration", "operations": ["DEL ImportDeclaration", "DEL QualifiedName: org.apache.drill.exec.work.WorkManager"]}, {"root": "DEL ImportDeclaration", "operations": ["DEL ImportDeclaration", "DEL QualifiedName: org.apache.drill.exec.work.fragment.AbstractStatusReporter"]}, {"root": "DEL Block", "operations": ["DEL Block"]}]}}, {"QueryManager_diff": {"operations": ["Move ImportDeclaration(86) into CompilationUnit(1873) at 17", "Update QualifiedName: org.apache.drill.exec.work.fragment.FragmentExecutor(85) to org.apache.drill.exec.proto.UserBitShared.FragmentState", "Insert MethodDeclaration(414) into TypeDeclaration: class(1872) at 22", "Insert Modifier: private(392) into MethodDeclaration(414) at 0", "Insert Modifier: static(393) into MethodDeclaration(414) at 1", "Insert PrimitiveType: boolean(394) into MethodDeclaration(414) at 2", "Insert SimpleName: isTerminal(395) into MethodDeclaration(414) at 3", "Insert SingleVariableDeclaration(400) into MethodDeclaration(414) at 4", "Insert Block(413) into MethodDeclaration(414) at 5", "Insert Block(527) into MethodDeclaration(528) at 4", "Insert Modifier: final(396) into SingleVariableDeclaration(400) at 0", "Insert SimpleType: FragmentState(398) into SingleVariableDeclaration(400) at 1", "Insert SimpleName: state(399) into SingleVariableDeclaration(400) at 2", "Insert ReturnStatement(412) into Block(413) at 0", "Move VariableDeclarationStatement(412) into Block(527) at 0", "Move VariableDeclarationStatement(420) into Block(527) at 1", "Move VariableDeclarationStatement(428) into Block(527) at 2", "Move VariableDeclarationStatement(441) into Block(527) at 3", "Insert VariableDeclarationStatement(469) into Block(527) at 4", "Insert VariableDeclarationStatement(477) into Block(527) at 5", "Insert VariableDeclarationStatement(488) into Block(527) at 6", "Insert IfStatement(517) into Block(527) at 7", "Insert ExpressionStatement(522) into Block(527) at 8", "Insert ReturnStatement(526) into Block(527) at 9", "Insert SimpleName: FragmentState(397) into SimpleType: FragmentState(398) at 0", "Insert InfixExpression: ||(411) into ReturnStatement(412) at 0", "Insert Modifier: final(461) into VariableDeclarationStatement(469) at 0", "Insert SimpleType: FragmentState(463) into VariableDeclarationStatement(469) at 1", "Insert VariableDeclarationFragment(468) into VariableDeclarationStatement(469) at 2", "Insert Modifier: final(470) into VariableDeclarationStatement(477) at 0", "Insert PrimitiveType: boolean(471) into VariableDeclarationStatement(477) at 1", "Insert VariableDeclarationFragment(476) into VariableDeclarationStatement(477) at 2", "Insert Modifier: final(478) into VariableDeclarationStatement(488) at 0", "Insert SimpleType: FragmentState(480) into VariableDeclarationStatement(488) at 1", "Insert VariableDeclarationFragment(487) into VariableDeclarationStatement(488) at 2", "Insert InfixExpression: ||(499) into IfStatement(517) at 0", "Insert Block(516) into IfStatement(517) at 1", "Move MethodInvocation(445) into ExpressionStatement(522) at 0", "Insert InfixExpression: !=(525) into ReturnStatement(526) at 0", "Insert InfixExpression: ||(407) into InfixExpression: ||(411) at 0", "Insert InfixExpression: ==(410) into InfixExpression: ||(411) at 1", "Insert SimpleName: FragmentState(462) into SimpleType: FragmentState(463) at 0", "Insert SimpleName: oldState(464) into VariableDeclarationFragment(468) at 0", "Insert MethodInvocation(467) into VariableDeclarationFragment(468) at 1", "Insert SimpleName: inTerminalState(472) into VariableDeclarationFragment(476) at 0", "Insert MethodInvocation(475) into VariableDeclarationFragment(476) at 1", "Insert SimpleName: FragmentState(479) into SimpleType: FragmentState(480) at 0", "Insert SimpleName: currentState(481) into VariableDeclarationFragment(487) at 0", "Insert MethodInvocation(486) into VariableDeclarationFragment(487) at 1", "Insert SimpleName: inTerminalState(489) into InfixExpression: ||(499) at 0", "Insert ParenthesizedExpression(498) into InfixExpression: ||(499) at 1", "Insert ExpressionStatement(513) into Block(516) at 0", "Move ReturnStatement(446) into Block(516) at 1", "Insert SimpleName: oldState(523) into InfixExpression: !=(525) at 0", "Insert SimpleName: currentState(524) into InfixExpression: !=(525) at 1", "Insert InfixExpression: ==(403) into InfixExpression: ||(407) at 0", "Insert InfixExpression: ==(406) into InfixExpression: ||(407) at 1", "Insert SimpleName: state(408) into InfixExpression: ==(410) at 0", "Insert QualifiedName: FragmentState.CANCELLED(409) into InfixExpression: ==(410) at 1", "Insert SimpleName: data(465) into MethodInvocation(467) at 0", "Insert SimpleName: getState(466) into MethodInvocation(467) at 1", "Insert SimpleName: isTerminal(473) into MethodInvocation(475) at 0", "Insert SimpleName: oldState(474) into MethodInvocation(475) at 1", "Insert MethodInvocation(484) into MethodInvocation(486) at 0", "Insert SimpleName: getState(485) into MethodInvocation(486) at 1", "Insert InfixExpression: &&(497) into ParenthesizedExpression(498) at 0", "Insert MethodInvocation(512) into ExpressionStatement(513) at 0", "Insert BooleanLiteral: false(514) into ReturnStatement(515) at 0", "Insert SimpleName: state(401) into InfixExpression: ==(403) at 0", "Insert QualifiedName: FragmentState.FAILED(402) into InfixExpression: ==(403) at 1", "Insert SimpleName: state(404) into InfixExpression: ==(406) at 0", "Insert QualifiedName: FragmentState.FINISHED(405) into InfixExpression: ==(406) at 1", "Insert SimpleName: fragmentStatus(482) into MethodInvocation(484) at 0", "Insert SimpleName: getProfile(483) into MethodInvocation(484) at 1", "Insert InfixExpression: ==(492) into InfixExpression: &&(497) at 0", "Insert PrefixExpression: !(496) into InfixExpression: &&(497) at 1", "Insert SimpleName: logger(500) into MethodInvocation(512) at 0", "Insert SimpleName: warn(501) into MethodInvocation(512) at 1", "Insert MethodInvocation(511) into MethodInvocation(512) at 2", "Insert SimpleName: oldState(490) into InfixExpression: ==(492) at 0", "Insert QualifiedName: FragmentState.CANCELLATION_REQUESTED(491) into InfixExpression: ==(492) at 1", "Insert MethodInvocation(495) into PrefixExpression: !(496) at 0", "Insert SimpleName: String(502) into MethodInvocation(511) at 0", "Insert SimpleName: format(503) into MethodInvocation(511) at 1", "Insert StringLiteral: \"Received status message for fragment %s after fragment was in state %s. New state was %s\"(504) into MethodInvocation(511) at 2", "Insert MethodInvocation(508) into MethodInvocation(511) at 3", "Insert SimpleName: oldState(509) into MethodInvocation(511) at 4", "Insert SimpleName: currentState(510) into MethodInvocation(511) at 5", "Insert SimpleName: isTerminal(493) into MethodInvocation(495) at 0", "Insert SimpleName: currentState(494) into MethodInvocation(495) at 1", "Insert SimpleName: QueryIdHelper(505) into MethodInvocation(508) at 0", "Insert SimpleName: getQueryIdentifier(506) into MethodInvocation(508) at 1", "Insert SimpleName: fragmentHandle(507) into MethodInvocation(508) at 2", "Delete QualifiedName: org.apache.drill.exec.work.WorkManager(79)", "Delete ImportDeclaration(80)", "Delete QualifiedName: org.apache.drill.exec.work.fragment.AbstractStatusReporter(83)", "Delete ImportDeclaration(84)", "Delete Block(447)"]}}], "commit_stats": [{"total_files": 2, "deleted_files": 0, "testing": "False", "maintenance": "False", "build": "False"}]}